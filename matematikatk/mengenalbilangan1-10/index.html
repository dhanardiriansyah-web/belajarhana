<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Permainan Matematika TK</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* CSS untuk styling permainan */
        :root {
            --bg-color: #f0f9ff;
            --primary-color: #3b82f6;
            --secondary-color: #10b981;
            --accent-color: #f59e0b;
            --text-color: #1f2937;
            --border-color: #d1d5db;
            --success-color: #22c55e;
            --error-color: #ef4444;
            --font-family: 'Fredoka', sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 0;
        }
        
        header p {
            font-size: 1.2rem;
            margin-top: 5px;
        }

        /* Navigasi Pilihan Game */
        #game-selection {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .game-select-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .game-select-btn:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        
        .game-select-btn.active {
            background-color: var(--secondary-color);
            font-weight: 600;
        }

        /* Kontainer Utama Game */
        #game-container {
            max-width: 800px;
            margin: 20px auto;
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .game-section {
            display: none; /* Semua game disembunyikan awalnya */
        }

        .game-section.active {
            display: block;
        }
        
        .game-section h2 {
            color: var(--accent-color);
            font-size: 2rem;
            border-bottom: 3px dashed var(--border-color);
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .instructions {
            font-size: 1.2rem;
            margin-bottom: 25px;
            display: inline-block;
        }

        .speaker-icon {
            cursor: pointer;
            font-size: 1.5rem;
            margin-left: 10px;
            vertical-align: middle;
            transition: transform 0.2s;
        }

        .speaker-icon:hover {
            transform: scale(1.2);
        }
        
        /* Area Permainan */
        .game-area {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            min-height: 150px;
            font-size: 4rem;
            padding: 20px;
            background-color: #fafafa;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        /* Tombol Jawaban */
        .answer-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .answer-btn {
            min-width: 70px;
            height: 70px;
            font-size: 2.5rem;
            font-weight: 600;
            border-radius: 50%;
            border: 4px solid var(--primary-color);
            background-color: white;
            color: var(--primary-color);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .answer-btn:hover {
            background-color: var(--primary-color);
            color: white;
            transform: scale(1.1);
        }
        
        .feedback {
            font-size: 1.5rem;
            font-weight: 600;
            margin-top: 20px;
            height: 30px;
        }

        .feedback.correct {
            color: var(--success-color);
        }

        .feedback.incorrect {
            color: var(--error-color);
        }
        
        /* Tombol Aksi */
        .action-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 500;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
        }
        
        .action-btn:hover {
            background-color: #059669;
        }

        /* Styling Khusus untuk Game Tertentu */
        /* Game 3 & 6: Five/Ten Frame */
        .frame {
            display: grid;
            gap: 5px;
            border: 3px solid var(--text-color);
            padding: 10px;
            background-color: #eef2ff;
        }
        .five-frame { grid-template-columns: repeat(5, 1fr); }
        .ten-frame { grid-template-columns: repeat(5, 1fr); grid-template-rows: repeat(2, 1fr); }
        
        .frame-cell {
            width: 60px;
            height: 60px;
            background-color: white;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.2s;
        }
        .frame-cell.filled::after {
            content: '‚óè';
            font-size: 4rem;
            color: var(--accent-color);
            line-height: 1;
        }

        /* Game 7: Konsep Nol */
        .bird {
             transition: opacity 0.5s, transform 0.5s;
        }
        .bird.fly-away {
            opacity: 0;
            transform: translateY(-100px) scale(0.5);
        }
        
        /* Game 8: Grafik Gambar */
        .graph-container {
            width: 100%;
            display: flex;
            justify-content: space-around;
        }
        .graph-bar {
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
        }
        .graph-bar .item {
            font-size: 2rem;
        }
        .graph-bar .label {
            font-size: 1.5rem;
            margin-top: 10px;
        }
        
        /* Game 4: Angka Hilang */
        .number-sequence span {
            padding: 0 10px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Permainan Matematika TK</h1>
        <p>Berdasarkan Buku Matematika Singapura (Bab 2 & 3)</p>
    </header>

    <nav id="game-selection">
        <!-- Tombol navigasi akan dibuat oleh JavaScript -->
    </nav>

    <main id="game-container">
        <!-- Setiap section adalah satu permainan -->

        <!-- Game 1: Menghitung Hewan (1-5) -->
        <section id="game-1" class="game-section">
            <h2>1. Menghitung Hewan</h2>
            <p class="instructions" data-instruction-text="Ada berapa hewan di bawah ini?">Ada berapa hewan di bawah ini?<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g1-game-area"></div>
            <div class="answer-options" id="g1-answer-options"></div>
            <p class="feedback" id="g1-feedback"></p>
            <button class="action-btn" id="g1-next-btn">Soal Berikutnya</button>
        </section>

        <!-- Game 2: Mencocokkan Angka & Benda (1-5) -->
        <section id="game-2" class="game-section">
            <h2>2. Mencocokkan Angka</h2>
            <p class="instructions" data-instruction-text="Klik kelompok benda yang jumlahnya sama dengan angka di samping!">Klik kelompok benda yang jumlahnya sama dengan angka di samping!<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g2-game-area" style="font-size: 2.5rem; justify-content: space-around; width:100%; align-items: center;">
                <div id="g2-number" style="font-size: 6rem; font-weight: bold; color: var(--primary-color);"></div>
                <div id="g2-object-options" style="display:flex; flex-direction:column; gap: 15px;"></div>
            </div>
            <p class="feedback" id="g2-feedback"></p>
            <button class="action-btn" id="g2-next-btn">Soal Berikutnya</button>
        </section>

        <!-- Game 3: Mengisi Five Frame -->
        <section id="game-3" class="game-section">
            <h2>3. Mengisi Five Frame</h2>
            <p class="instructions">Isi kotak di bawah ini sampai berjumlah <strong id="g3-target-number" style="color:var(--primary-color);"></strong>!<span class="speaker-icon">üîä</span></p>
            <div class="game-area">
                <div class="frame five-frame" id="g3-five-frame"></div>
            </div>
            <p class="feedback" id="g3-feedback"></p>
            <button class="action-btn" id="g3-check-btn">Periksa Jawaban</button>
            <button class="action-btn" id="g3-next-btn" style="display:none;">Soal Berikutnya</button>
        </section>

        <!-- Game 4: Angka yang Hilang (1-10) -->
        <section id="game-4" class="game-section">
            <h2>4. Menebak Angka Hilang</h2>
            <p class="instructions" data-instruction-text="Angka berapa yang hilang dari urutan di bawah ini?">Angka berapa yang hilang dari urutan di bawah ini?<span class="speaker-icon">üîä</span></p>
            <div class="game-area number-sequence" id="g4-game-area"></div>
            <div class="answer-options" id="g4-answer-options"></div>
            <p class="feedback" id="g4-feedback"></p>
            <button class="action-btn" id="g4-next-btn">Soal Berikutnya</button>
        </section>
        
        <!-- Game 5: Menghitung Benda (1-10) -->
        <section id="game-5" class="game-section">
            <h2>5. Menghitung Benda</h2>
            <p class="instructions" data-instruction-text="Ayo hitung ada berapa jumlah benda berikut!">Ayo hitung ada berapa jumlah benda berikut!<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g5-game-area" style="font-size:3rem"></div>
            <div class="answer-options" id="g5-answer-options"></div>
            <p class="feedback" id="g5-feedback"></p>
            <button class="action-btn" id="g5-next-btn">Soal Berikutnya</button>
        </section>
        
        <!-- Game 6: Mengisi Ten Frame -->
        <section id="game-6" class="game-section">
            <h2>6. Mengisi Ten Frame</h2>
            <p class="instructions">Isi kotak di bawah ini sampai berjumlah <strong id="g6-target-number" style="color:var(--primary-color);"></strong>!<span class="speaker-icon">üîä</span></p>
            <div class="game-area">
                <div class="frame ten-frame" id="g6-ten-frame"></div>
            </div>
            <p class="feedback" id="g6-feedback"></p>
            <button class="action-btn" id="g6-check-btn">Periksa Jawaban</button>
            <button class="action-btn" id="g6-next-btn" style="display:none;">Soal Berikutnya</button>
        </section>
        
        <!-- Game 7: Konsep Nol -->
        <section id="game-7" class="game-section">
            <h2>7. Konsep Angka Nol</h2>
            <p class="instructions">Ada <span id="g7-bird-count"></span> burung di pagar. Klik tombol untuk membuatnya terbang!<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g7-game-area"></div>
            <button class="action-btn" id="g7-fly-btn">Terbang!</button>
            <div id="g7-question" style="display:none; margin-top:20px;">
                <p class="instructions" data-instruction-text="Sekarang, ada berapa burung di pagar?">Sekarang, ada berapa burung di pagar?<span class="speaker-icon">üîä</span></p>
                <div class="answer-options" id="g7-answer-options"></div>
            </div>
            <p class="feedback" id="g7-feedback"></p>
            <button class="action-btn" id="g7-reset-btn" style="display:none;">Main Lagi</button>
        </section>

        <!-- Game 8: Grafik Gambar Sederhana -->
        <section id="game-8" class="game-section">
            <h2>8. Membaca Grafik Gambar</h2>
            <p class="instructions" data-instruction-text="Perhatikan grafik buah di bawah ini. Lalu jawab pertanyaannya!">Perhatikan grafik buah di bawah ini. Lalu jawab pertanyaannya!<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g8-game-area">
                <div class="graph-container" id="g8-graph-container"></div>
            </div>
            <p class="instructions" id="g8-question"></p>
            <div class="answer-options" id="g8-answer-options"></div>
            <p class="feedback" id="g8-feedback"></p>
            <button class="action-btn" id="g8-next-btn">Soal Berikutnya</button>
        </section>
        
        <!-- Game 9: Menghitung Jari -->
        <section id="game-9" class="game-section">
            <h2>9. Menghitung Jari</h2>
            <p class="instructions" data-instruction-text="Berapa jumlah jari yang ditunjukkan?">Berapa jumlah jari yang ditunjukkan?<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g9-game-area"></div>
            <div class="answer-options" id="g9-answer-options"></div>
            <p class="feedback" id="g9-feedback"></p>
            <button class="action-btn" id="g9-next-btn">Soal Berikutnya</button>
        </section>

        <!-- Game 10: Mana yang Berbeda? -->
        <section id="game-10" class="game-section">
            <h2>10. Mana Jumlah yang Berbeda?</h2>
            <p class="instructions" data-instruction-text="Klik kelompok benda yang jumlahnya berbeda dari yang lain!">Klik kelompok benda yang jumlahnya berbeda dari yang lain!<span class="speaker-icon">üîä</span></p>
            <div class="game-area" id="g10-game-area" style="gap: 30px;"></div>
            <p class="feedback" id="g10-feedback"></p>
            <button class="action-btn" id="g10-next-btn">Soal Berikutnya</button>
        </section>

    </main>

    <script>
        // JavaScript untuk logika permainan
        document.addEventListener('DOMContentLoaded', () => {
            const games = [
                { id: 1, name: 'Hitung Hewan', init: initGame1 },
                { id: 2, name: 'Cocokkan Angka', init: initGame2 },
                { id: 3, name: 'Five Frame', init: initGame3 },
                { id: 4, name: 'Angka Hilang', init: initGame4 },
                { id: 5, name: 'Hitung Benda', init: initGame5 },
                { id: 6, name: 'Ten Frame', init: initGame6 },
                { id: 7, name: 'Konsep Nol', init: initGame7 },
                { id: 8, name: 'Grafik Gambar', init: initGame8 },
                { id: 9, name: 'Hitung Jari', init: initGame9 },
                { id: 10, name: 'Jumlah Berbeda', init: initGame10 },
            ];

            const gameSelectionContainer = document.getElementById('game-selection');
            let currentCorrectAnswer = null;

            // --- Fungsi Utilitas ---
            const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
            const shuffleArray = (array) => array.sort(() => Math.random() - 0.5);

            // --- Fungsi Suara ---
            const synth = window.speechSynthesis;
            function speak(text) {
                if (synth.speaking) {
                    synth.cancel(); // Hentikan suara sebelumnya jika masih ada
                }
                const utterThis = new SpeechSynthesisUtterance(text);
                utterThis.lang = 'id-ID';
                utterThis.pitch = 1.1;
                utterThis.rate = 0.9;
                synth.speak(utterThis);
            }

            // --- Navigasi Game ---
            function showGame(gameId) {
                document.querySelectorAll('.game-section').forEach(section => section.classList.remove('active'));
                document.getElementById(`game-${gameId}`).classList.add('active');
                
                document.querySelectorAll('.game-select-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector(`.game-select-btn[data-game-id="${gameId}"]`).classList.add('active');

                // Inisialisasi game yang dipilih
                const game = games.find(g => g.id === gameId);
                if (game && game.init) {
                    game.init();
                }
            }
            
            // Membuat tombol seleksi game
            games.forEach(game => {
                const button = document.createElement('button');
                button.textContent = `${game.id}. ${game.name}`;
                button.className = 'game-select-btn';
                button.dataset.gameId = game.id;
                button.addEventListener('click', () => showGame(game.id));
                gameSelectionContainer.appendChild(button);
            });

            // Tambahkan event listener untuk semua ikon speaker
            document.querySelectorAll('.speaker-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    // Dapatkan teks dari elemen parent atau dari data-attribute
                    let textToSpeak = e.target.parentElement.dataset.instructionText;
                    if (!textToSpeak) {
                         // Untuk instruksi dinamis, kita rakit kembali teksnya
                        const parent = e.target.parentElement;
                        if(parent.querySelector('strong')) {
                           textToSpeak = parent.textContent.replace('üîä','').replace(parent.querySelector('strong').textContent, ` ${parent.querySelector('strong').textContent} `);
                        } else {
                            textToSpeak = parent.textContent.replace('üîä','');
                        }
                    }
                    speak(textToSpeak);
                });
            });


            // --- Logika Game 1: Menghitung Hewan (1-5) ---
            function initGame1() {
                const gameArea = document.getElementById('g1-game-area');
                const answerOptions = document.getElementById('g1-answer-options');
                const feedback = document.getElementById('g1-feedback');
                const animals = ['üê∂', 'üê±', 'üê∞', 'ü¶ä', 'üêª'];
                
                feedback.textContent = '';
                gameArea.innerHTML = '';
                answerOptions.innerHTML = '';

                const animalType = animals[getRandomInt(0, animals.length - 1)];
                const correctCount = getRandomInt(1, 5);
                currentCorrectAnswer = correctCount;

                for (let i = 0; i < correctCount; i++) {
                    gameArea.textContent += animalType;
                }

                let options = [correctCount];
                while (options.length < 3) {
                    let randomOption = getRandomInt(1, 5);
                    if (!options.includes(randomOption)) {
                        options.push(randomOption);
                    }
                }
                
                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    answerOptions.appendChild(button);
                });
                speak("Ada berapa hewan di bawah ini?");
            }
            document.getElementById('g1-next-btn').addEventListener('click', initGame1);

            // --- Logika Game 2: Mencocokkan Angka & Benda (1-5) ---
            function initGame2() {
                const numberDiv = document.getElementById('g2-number');
                const objectOptionsDiv = document.getElementById('g2-object-options');
                const feedback = document.getElementById('g2-feedback');
                const objects = ['üçé', 'üçå', 'üçä', 'üçì', 'üçá'];

                feedback.textContent = '';
                objectOptionsDiv.innerHTML = '';

                const targetNumber = getRandomInt(1, 5);
                currentCorrectAnswer = targetNumber;
                numberDiv.textContent = targetNumber;

                let options = [targetNumber];
                while (options.length < 3) {
                    let r = getRandomInt(1, 5);
                    if (!options.includes(r)) options.push(r);
                }

                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    const objectType = objects[getRandomInt(0, objects.length-1)];
                    button.textContent = objectType.repeat(opt);
                    button.className = 'answer-btn';
                    button.style.width = 'auto';
                    button.style.padding = '0 20px';
                    button.style.borderRadius = '20px';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    objectOptionsDiv.appendChild(button);
                });
                speak("Klik kelompok benda yang jumlahnya sama dengan angka di samping!");
            }
            document.getElementById('g2-next-btn').addEventListener('click', initGame2);

            // --- Logika Game 3: Mengisi Five Frame ---
            function initGame3() {
                const targetNumberEl = document.getElementById('g3-target-number');
                const frame = document.getElementById('g3-five-frame');
                const feedback = document.getElementById('g3-feedback');
                const checkBtn = document.getElementById('g3-check-btn');
                const nextBtn = document.getElementById('g3-next-btn');
                
                feedback.textContent = '';
                frame.innerHTML = '';
                checkBtn.style.display = 'inline-block';
                nextBtn.style.display = 'none';

                const targetNumber = getRandomInt(1, 5);
                currentCorrectAnswer = targetNumber;
                targetNumberEl.textContent = targetNumber;

                for (let i = 0; i < 5; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'frame-cell';
                    cell.addEventListener('click', () => cell.classList.toggle('filled'));
                    frame.appendChild(cell);
                }
                speak(`Isi kotak di bawah ini sampai berjumlah ${targetNumber}`);
            }
            document.getElementById('g3-check-btn').addEventListener('click', () => {
                const filledCount = document.querySelectorAll('#g3-five-frame .filled').length;
                const feedback = document.getElementById('g3-feedback');
                checkAnswer(filledCount, currentCorrectAnswer, feedback);
                 if(filledCount === currentCorrectAnswer){
                   document.getElementById('g3-check-btn').style.display = 'none';
                   document.getElementById('g3-next-btn').style.display = 'inline-block';
                }
            });
            document.getElementById('g3-next-btn').addEventListener('click', initGame3);

            // --- Logika Game 4: Angka Hilang (1-10) ---
            function initGame4() {
                const gameArea = document.getElementById('g4-game-area');
                const answerOptions = document.getElementById('g4-answer-options');
                const feedback = document.getElementById('g4-feedback');

                feedback.textContent = '';
                gameArea.innerHTML = '';
                answerOptions.innerHTML = '';

                const start = getRandomInt(1, 6);
                const sequence = Array.from({length: 5}, (_, i) => start + i);
                const missingIndex = getRandomInt(1, 3);
                const missingNumber = sequence[missingIndex];
                currentCorrectAnswer = missingNumber;

                sequence[missingIndex] = '___';
                gameArea.innerHTML = sequence.map(n => `<span>${n}</span>`).join('');
                
                let options = [missingNumber];
                while(options.length < 3) {
                    let r = getRandomInt(1, 10);
                    if (!options.includes(r)) options.push(r);
                }
                
                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    answerOptions.appendChild(button);
                });
                speak("Angka berapa yang hilang dari urutan di bawah ini?");
            }
            document.getElementById('g4-next-btn').addEventListener('click', initGame4);

            // --- Logika Game 5: Menghitung Benda (1-10) ---
            function initGame5() {
                const gameArea = document.getElementById('g5-game-area');
                const answerOptions = document.getElementById('g5-answer-options');
                const feedback = document.getElementById('g5-feedback');
                const items = ['‚≠ê', 'üéà', '‚öΩ', 'üéÅ', 'üöó'];
                
                feedback.textContent = '';
                gameArea.innerHTML = '';
                answerOptions.innerHTML = '';

                const itemType = items[getRandomInt(0, items.length - 1)];
                const correctCount = getRandomInt(1, 10);
                currentCorrectAnswer = correctCount;

                for (let i = 0; i < correctCount; i++) {
                    gameArea.textContent += itemType;
                }

                let options = [correctCount];
                while (options.length < 4) {
                    let randomOption = getRandomInt(1, 10);
                    if (!options.includes(randomOption)) {
                        options.push(randomOption);
                    }
                }
                
                answerOptions.style.flexWrap = 'wrap';
                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.style.minWidth = '60px';
                    button.style.height = '60px';
                    button.style.fontSize = '2rem';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    answerOptions.appendChild(button);
                });
                speak("Ayo hitung ada berapa jumlah benda berikut!");
            }
            document.getElementById('g5-next-btn').addEventListener('click', initGame5);
            
            // --- Logika Game 6: Mengisi Ten Frame ---
            function initGame6() {
                const targetNumberEl = document.getElementById('g6-target-number');
                const frame = document.getElementById('g6-ten-frame');
                const feedback = document.getElementById('g6-feedback');
                const checkBtn = document.getElementById('g6-check-btn');
                const nextBtn = document.getElementById('g6-next-btn');

                feedback.textContent = '';
                frame.innerHTML = '';
                checkBtn.style.display = 'inline-block';
                nextBtn.style.display = 'none';

                const targetNumber = getRandomInt(1, 10);
                currentCorrectAnswer = targetNumber;
                targetNumberEl.textContent = targetNumber;

                for (let i = 0; i < 10; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'frame-cell';
                    cell.addEventListener('click', () => cell.classList.toggle('filled'));
                    frame.appendChild(cell);
                }
                speak(`Isi kotak di bawah ini sampai berjumlah ${targetNumber}`);
            }
            document.getElementById('g6-check-btn').addEventListener('click', () => {
                const filledCount = document.querySelectorAll('#g6-ten-frame .filled').length;
                const feedback = document.getElementById('g6-feedback');
                checkAnswer(filledCount, currentCorrectAnswer, feedback);
                if(filledCount === currentCorrectAnswer){
                   document.getElementById('g6-check-btn').style.display = 'none';
                   document.getElementById('g6-next-btn').style.display = 'inline-block';
                }
            });
            document.getElementById('g6-next-btn').addEventListener('click', initGame6);

            // --- Logika Game 7: Konsep Nol ---
            function initGame7() {
                const gameArea = document.getElementById('g7-game-area');
                const birdCountSpan = document.getElementById('g7-bird-count');
                const flyBtn = document.getElementById('g7-fly-btn');
                const questionDiv = document.getElementById('g7-question');
                const answerOptions = document.getElementById('g7-answer-options');
                const feedback = document.getElementById('g7-feedback');
                const resetBtn = document.getElementById('g7-reset-btn');

                gameArea.innerHTML = '';
                feedback.textContent = '';
                questionDiv.style.display = 'none';
                flyBtn.style.display = 'inline-block';
                resetBtn.style.display = 'none';
                flyBtn.disabled = false;
                
                const initialBirds = getRandomInt(2, 4);
                birdCountSpan.textContent = initialBirds;
                
                for(let i=0; i<initialBirds; i++){
                    const bird = document.createElement('span');
                    bird.className = 'bird';
                    bird.textContent = 'üê¶';
                    gameArea.appendChild(bird);
                }
                speak(`Ada ${initialBirds} burung di pagar. Klik tombol untuk membuatnya terbang!`);

                flyBtn.onclick = () => {
                    const birds = gameArea.querySelectorAll('.bird:not(.fly-away)');
                    if (birds.length > 0) {
                        birds[birds.length - 1].classList.add('fly-away');
                        birdCountSpan.textContent = birds.length - 1;
                        if (birds.length - 1 === 0) {
                            flyBtn.disabled = true;
                            setTimeout(() => {
                                questionDiv.style.display = 'block';
                                speak("Sekarang, ada berapa burung di pagar?");
                            }, 500);
                        }
                    }
                };

                answerOptions.innerHTML = '';
                currentCorrectAnswer = 0;
                let options = [0, 1, 2];
                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.addEventListener('click', () => {
                       checkAnswer(opt, currentCorrectAnswer, feedback)
                       if (opt === 0) resetBtn.style.display = 'inline-block';
                    });
                    answerOptions.appendChild(button);
                });
            }
            document.getElementById('g7-reset-btn').addEventListener('click', initGame7);
            
            // --- Logika Game 8: Grafik Gambar ---
            function initGame8() {
                const graphContainer = document.getElementById('g8-graph-container');
                const question = document.getElementById('g8-question');
                const answerOptions = document.getElementById('g8-answer-options');
                const feedback = document.getElementById('g8-feedback');
                
                graphContainer.innerHTML = '';
                answerOptions.innerHTML = '';
                feedback.textContent = '';

                const fruits = [
                    { name: 'Apel', emoji: 'üçé', count: getRandomInt(1, 5) },
                    { name: 'Jeruk', emoji: 'üçä', count: getRandomInt(1, 5) },
                    { name: 'Pisang', emoji: 'üçå', count: getRandomInt(1, 5) }
                ];

                fruits.forEach(fruit => {
                    const bar = document.createElement('div');
                    bar.className = 'graph-bar';
                    let itemsHTML = '';
                    for (let i = 0; i < fruit.count; i++) {
                        itemsHTML += `<div class="item">${fruit.emoji}</div>`;
                    }
                    bar.innerHTML = itemsHTML + `<div class="label">${fruit.name}</div>`;
                    graphContainer.appendChild(bar);
                });

                const askedFruit = fruits[getRandomInt(0, fruits.length - 1)];
                question.textContent = `Ada berapa buah ${askedFruit.name}?`;
                currentCorrectAnswer = askedFruit.count;

                let options = [currentCorrectAnswer];
                while(options.length < 3){
                    let r = getRandomInt(1, 5);
                    if(!options.includes(r)) options.push(r);
                }

                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    answerOptions.appendChild(button);
                });
                speak(`Perhatikan grafik buah di bawah ini. ${question.textContent}`);
            }
            document.getElementById('g8-next-btn').addEventListener('click', initGame8);

            // --- Logika Game 9: Menghitung Jari ---
            function initGame9() {
                const gameArea = document.getElementById('g9-game-area');
                const answerOptions = document.getElementById('g9-answer-options');
                const feedback = document.getElementById('g9-feedback');
                // Using number emojis as a simple representation of fingers
                // A more complex implementation could use SVGs of hands.
                const hands = ['‚úã','‚úä','‚òùÔ∏è','‚úåÔ∏è','ü§ü','üññ','üñêÔ∏è'];
                const fingerCounts = { '‚úä':0, '‚òùÔ∏è':1, '‚úåÔ∏è':2, 'ü§ü':3, 'üññ':4, 'üñêÔ∏è':5, '‚úã':5 };

                feedback.textContent = '';
                gameArea.innerHTML = '';
                answerOptions.innerHTML = '';
                
                let validHands = Object.keys(fingerCounts).filter(h => fingerCounts[h] <= 5);
                const hand = validHands[getRandomInt(0, validHands.length-1)];
                const correctCount = fingerCounts[hand];
                currentCorrectAnswer = correctCount;

                gameArea.textContent = hand;

                let options = [correctCount];
                while (options.length < 3) {
                    let randomOption = getRandomInt(0, 5);
                    if (!options.includes(randomOption)) {
                        options.push(randomOption);
                    }
                }
                
                shuffleArray(options).forEach(opt => {
                    const button = document.createElement('button');
                    button.textContent = opt;
                    button.className = 'answer-btn';
                    button.addEventListener('click', () => checkAnswer(opt, currentCorrectAnswer, feedback));
                    answerOptions.appendChild(button);
                });
                speak("Berapa jumlah jari yang ditunjukkan?");
            }
            document.getElementById('g9-next-btn').addEventListener('click', initGame9);

             // --- Logika Game 10: Mana Jumlah yang Berbeda? ---
            function initGame10() {
                const gameArea = document.getElementById('g10-game-area');
                const feedback = document.getElementById('g10-feedback');
                const items = ['‚ô¶Ô∏è', '‚ô£Ô∏è', '‚ô•Ô∏è', '‚ô†Ô∏è'];
                
                gameArea.innerHTML = '';
                feedback.textContent = '';

                const commonCount = getRandomInt(2, 5);
                let differentCount;
                do {
                    differentCount = getRandomInt(1, 5);
                } while (differentCount === commonCount);
                currentCorrectAnswer = differentCount;

                let counts = [commonCount, commonCount, commonCount, differentCount];
                shuffleArray(counts);

                counts.forEach(count => {
                    const group = document.createElement('div');
                    group.className = 'answer-btn'; // Re-use styling
                    group.style.width = 'auto';
                    group.style.height = 'auto';
                    group.style.minHeight = '70px';
                    group.style.padding = '15px';
                    group.style.borderRadius = '20px';
                    group.style.flexDirection = 'row';
                    group.style.flexWrap = 'wrap';

                    const itemType = items[getRandomInt(0, items.length - 1)];
                    group.textContent = itemType.repeat(count);
                    group.addEventListener('click', () => checkAnswer(count, currentCorrectAnswer, feedback));
                    gameArea.appendChild(group);
                });
                speak("Klik kelompok benda yang jumlahnya berbeda dari yang lain!");
            }
            document.getElementById('g10-next-btn').addEventListener('click', initGame10);

            // --- Fungsi Pengecekan Jawaban Umum ---
            function checkAnswer(selected, correct, feedbackElement) {
                if (selected === correct) {
                    feedbackElement.textContent = 'Hebat, jawabanmu benar! üéâ';
                    feedbackElement.className = 'feedback correct';
                    speak('Hebat, benar!');
                } else {
                    feedbackElement.textContent = 'Oops, coba lagi ya! ü§î';
                    feedbackElement.className = 'feedback incorrect';
                    speak('Oops, coba lagi');
                }
            }

            // --- Inisialisasi Awal ---
            showGame(1);
        });
    </script>
</body>
</html>

